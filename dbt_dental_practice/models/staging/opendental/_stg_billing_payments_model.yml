version: 2

# models:
#   - name: stg_adjustment
#     description: "Financial adjustments to patient accounts"
#     columns:
#       # Primary Key
#       - name: adjustment_id
#         description: "Primary key for adjustments"
#         tests:
#           - unique
#           - not_null
#
#       # Relationships
#       - name: patient_id
#         description: "Foreign key to patient"
#         tests:
#           - not_null
#           - relationships:
#               to: ref('stg_patient')
#               field: patient_id
#       - name: procedure_id
#         description: "Foreign key to procedure if adjustment is procedure-specific"
#         tests:
#           - relationships:
#               to: ref('stg_procedurelog')
#               field: procedure_id
#       - name: provider_id
#         description: "Provider who authorized adjustment"
#         tests:
#           - relationships:
#               to: ref('stg_provider')
#               field: provider_id
#       - name: clinic_id
#         description: "Clinic where adjustment was made"
#       - name: statement_id
#         description: "Related statement if applicable"
#       - name: adjustment_type_id
#         description: "Type of adjustment"
#         tests:
#           - not_null
#
#       # Adjustment Details
#       - name: adjustment_amount
#         description: "Amount of adjustment"
#         tests:
#           - not_null
#       - name: adjustment_note
#         description: "Note explaining adjustment"
#       - name: adjustment_direction
#         description: "Whether adjustment is positive, negative, or zero"
#       - name: is_procedure_adjustment
#         description: "Whether adjustment is tied to specific procedure"
#
#       # Dates
#       - name: adjustment_date
#         description: "Date adjustment was applied"
#         tests:
#           - not_null
#       - name: procedure_date
#         description: "Date of related procedure if applicable"
#       - name: entry_date
#         description: "Date adjustment was entered"
#
#       # Metadata
#       - name: created_by_user_id
#         description: "User who created adjustment"
#       - name: updated_at
#         description: "When adjustment was last updated"
#
#   - name: stg_payment
#     description: "Patient payments for services"
#     columns:
#       # Primary Key
#       - name: payment_id
#         description: "Primary key for payments"
#         tests:
#           - unique
#           - not_null
#
#       # Relationships
#       - name: patient_id
#         description: "Foreign key to patient"
#         tests:
#           - not_null
#           - relationships:
#               to: ref('stg_patient')
#               field: patient_id
#       - name: clinic_id
#         description: "Clinic where payment was received"
#       - name: payment_type_id
#         description: "Type of payment"
#         tests:
#           - not_null
#       - name: deposit_id
#         description: "Associated deposit record"
#       - name: created_by_user_id
#         description: "User who created payment"
#
#       # Payment Details
#       - name: payment_amount
#         description: "Amount of payment"
#         tests:
#           - not_null
#       - name: merchant_fee
#         description: "Processing fee if applicable"
#       - name: check_number
#         description: "Check number if payment by check"
#       - name: bank_branch
#         description: "Bank branch information"
#       - name: external_id
#         description: "External payment identifier"
#
#       # Status and Classification
#       - name: is_split_flag
#         description: "Whether payment is split across items"
#       - name: is_recurring_cc_flag
#         description: "Whether payment is recurring credit card"
#       - name: is_cc_completed_flag
#         description: "Whether credit card processing completed"
#       - name: payment_status
#         description: "Current status of payment"
#       - name: process_status
#         description: "Processing status"
#       - name: payment_source
#         description: "Source of payment"
#
#       # Dates
#       - name: payment_date
#         description: "Date payment was made"
#         tests:
#           - not_null
#       - name: entry_date
#         description: "Date payment was entered"
#       - name: recurring_charge_date
#         description: "Next recurring charge date if applicable"
#       - name: updated_at
#         description: "When payment was last updated"
#
#   - name: stg_payperiod
#     description: "Payment period information"
#     columns:
#       # Primary Key
#       - name: pay_period_id
#         description: "Primary key for pay periods"
#         tests:
#           - unique
#           - not_null
#       # Dates
#       # - name: start_date
#       #   description: "Start date of pay period"
#       #   tests:
#       #     - not_null
#       # - name: end_date
#       #   description: "End date of pay period"
#       #   tests:
#       #     - not_null
#       # - name: paycheck_date
#       #   description: "Date paychecks are issued"
#       #   tests:
#       #     - not_null
#
#   # - name: stg_payplan
#   #   description: "Payment plans for spreading costs over time"
#   #   columns:
#   #     # ... [payplan columns skipped]
#   #
#   # - name: stg_paysplit
#   #   description: "Payment splits across procedures"
#   #   columns:
#   #     # ... [paysplit columns skipped]
#   #
#   # - name: stg_statement
#   #   description: "Patient billing statements"
#   #   columns:
#   #     # ... [statement columns skipped]
#   #
#   # - name: stg_statementprod
#   #   description: "Statement production data"
#   #   columns:
#   #     # ... [statement production columns skipped]
#   #
#   # - name: stg_fee
#   #   description: "Fee amounts for procedures"
#   #   columns:
#   #     # ... [fee columns skipped]
#   #
#   # - name: stg_feesched
#   #   description: "Fee schedules"
#   #   columns:
#   #     # ... [fee schedule columns skipped]
#   #
#   # - name: stg_feeschedgroup
#   #   description: "Groupings of fee schedules"
#   #   columns:
#   #     # ... [fee schedule group columns skipped]